
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Attention Heatmaps (3×3 Grid)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
        }
        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-gap: 15px;
            max-width: 800px;
            margin: 0 auto;
        }
        .heatmap-container {
            background-color: white;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .heatmap-title {
            text-align: center;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 12px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .correct {
            color: green;
        }
        .incorrect {
            color: red;
        }
        .heatmap-canvas {
            width: 200px;
            height: 200px;
            margin: 0 auto;
            position: relative;
        }
        .legend {
            margin-top: 30px;
            text-align: center;
        }
        .legend-gradient {
            width: 300px;
            height: 20px;
            margin: 10px auto;
            background: linear-gradient(to right, #440154, #414487, #2a788e, #22a884, #7ad151, #fde725);
        }
        .legend-labels {
            display: flex;
            justify-content: space-between;
            width: 300px;
            margin: 0 auto;
        }
    </style>
    <script>
        // Function to draw a heatmap on a canvas
        function drawHeatmap(canvasId, source, target, weights, isCorrect) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Calculate cell size
            const padding = 30;  // Space for labels
            const availWidth = canvas.width - padding;
            const availHeight = canvas.height - padding;
            const cellWidth = availWidth / source.length;
            const cellHeight = availHeight / target.length;
            
            // Draw source labels (x-axis)
            ctx.font = '10px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillStyle = '#000000';
            
            for (let i = 0; i < source.length; i++) {
                ctx.fillText(source[i], padding + i * cellWidth + cellWidth/2, canvas.height - padding/2);
            }
            
            // Draw target labels (y-axis)
            ctx.textAlign = 'right';
            for (let i = 0; i < target.length; i++) {
                ctx.fillText(target[i], padding - 5, padding + i * cellHeight + cellHeight/2);
            }
            
            // Draw heatmap cells
            for (let i = 0; i < target.length; i++) {
                for (let j = 0; j < source.length; j++) {
                    const weight = weights[i][j];
                    ctx.fillStyle = viridisColor(weight);
                    ctx.fillRect(padding + j * cellWidth, padding + i * cellHeight, cellWidth, cellHeight);
                    
                    // Add cell border
                    ctx.strokeStyle = '#cccccc';
                    ctx.lineWidth = 0.5;
                    ctx.strokeRect(padding + j * cellWidth, padding + i * cellHeight, cellWidth, cellHeight);
                }
            }
        }
        
        // Function to generate a color from the viridis colormap
        function viridisColor(value) {
            // Simplified viridis colormap
            const colors = [
                [68, 1, 84],    // Dark purple (0.0)
                [65, 68, 135],   // Purple (0.2)
                [42, 120, 142],  // Blue (0.4)
                [34, 168, 132],  // Teal (0.6)
                [122, 209, 81],  // Green (0.8)
                [253, 231, 37]   // Yellow (1.0)
            ];
            
            // Find the two colors to interpolate between
            const idx = Math.min(Math.floor(value * 5), 4);
            const t = (value * 5) - idx;
            
            // Linear interpolation between the two colors
            const r = Math.round(colors[idx][0] * (1 - t) + colors[idx + 1][0] * t);
            const g = Math.round(colors[idx][1] * (1 - t) + colors[idx + 1][1] * t);
            const b = Math.round(colors[idx][2] * (1 - t) + colors[idx + 1][2] * t);
            
            return `rgb(${r}, ${g}, ${b})`;
        }
        
        // Function to initialize all heatmaps when the page loads
        window.onload = function() {
    
            // Data for heatmap 1
            const source1 = ["i", "d", "h", "o", "a"];
            const target1 = ["\u0b87", "\u0ba4", "\u0bcb"];
            const weights1 = [[0.25502607226371765, 0.47936558723449707, 0.06005791574716568, 0.005450281780213118, 0.007067039608955383], [0.0022409011144191027, 0.05791940540075302, 0.5965948700904846, 0.13070501387119293, 0.11301299929618835], [8.378297206945717e-05, 0.007339047268033028, 0.042920924723148346, 0.07786368578672409, 0.3480043113231659]];
            drawHeatmap('heatmap-canvas-1', source1, target1, weights1, true);
        
            // Data for heatmap 2
            const source2 = ["a", "m", "a", "r", "i", "c", "a"];
            const target2 = ["\u0b85", "\u0bae", "\u0bb0", "\u0bbf", "\u0b95", "\u0bcd", "\u0b95", "\u0bbe"];
            const weights2 = [[0.35088932514190674, 0.5265212655067444, 0.0268701184540987, 0.004726250655949116, 0.0030516015831381083, 0.0017889722948893905, 0.0009660514770075679], [0.0010934995952993631, 0.1989583671092987, 0.7150745391845703, 0.022415971383452415, 0.0036221386399120092, 0.0012459761928766966, 0.0007889465196058154], [2.298744220752269e-05, 0.005492085125297308, 0.02415907196700573, 0.6322063207626343, 0.22070956230163574, 0.04223248362541199, 0.017576046288013458], [7.453327998518944e-05, 0.013366605155169964, 0.0463050976395607, 0.10500814020633698, 0.38845252990722656, 0.2538371682167053, 0.13810260593891144], [5.111332211527042e-05, 0.005913094151765108, 0.0036296555772423744, 0.009360447525978088, 0.01607457548379898, 0.33506011962890625, 0.47298935055732727], [1.3131175364833325e-06, 0.0010469671105965972, 0.00015826885646674782, 0.0022171416785568, 0.004806710872799158, 0.02617238089442253, 0.288180410861969], [2.346978544665035e-05, 0.001175722456537187, 0.0007487271213904023, 0.00456899031996727, 0.004145024809986353, 0.07922568917274475, 0.29283398389816284], [1.9402068573981524e-06, 0.001128588686697185, 0.00014559083501808345, 0.004031772259622812, 0.002546920906752348, 0.018351826816797256, 0.09688101708889008]];
            drawHeatmap('heatmap-canvas-2', source2, target2, weights2, false);
        
            // Data for heatmap 3
            const source3 = ["s", "u", "v", "a", "r", "g", "a", "l"];
            const target3 = ["\u0b9a", "\u0bc1", "\u0bb5", "\u0bb0", "\u0bcd", "\u0b95", "\u0bb3", "\u0bcd"];
            const weights3 = [[0.1463334858417511, 0.607316792011261, 0.023745890706777573, 0.02670583687722683, 0.006122463848441839, 0.002996183233335614, 0.00031455070711672306, 0.0008696843287907541], [0.01215457171201706, 0.10609128326177597, 0.6017787456512451, 0.05999784916639328, 0.012974678538739681, 0.005715512670576572, 0.0001492504816269502, 0.00029629174969159067], [0.00037216953933238983, 0.00994237419217825, 0.1023438572883606, 0.7398726940155029, 0.08547593653202057, 0.022858139127492905, 0.00021721050143241882, 0.0008921329281292856], [0.00146102427970618, 0.0018511927919462323, 0.0022317597176879644, 0.021382508799433708, 0.6778838634490967, 0.24574750661849976, 0.0021412086207419634, 0.008250116370618343], [0.0006142305792309344, 0.0005695752333849669, 0.003303291741758585, 0.025513559579849243, 0.2212410420179367, 0.4960252344608307, 0.014646748080849648, 0.1257723569869995], [0.0003480567829683423, 0.0003869262000080198, 0.0003102821938227862, 0.001163857406936586, 0.006567738018929958, 0.2573099136352539, 0.28096553683280945, 0.28046172857284546], [0.00027750316075980663, 2.361421320529189e-05, 1.910219361889176e-05, 8.370496652787551e-05, 0.021841568872332573, 0.006997501943260431, 0.01691446639597416, 0.7055553197860718], [0.00026929882005788386, 5.766599429080088e-07, 6.187463895912515e-06, 6.638819286308717e-06, 0.009051325730979443, 0.010162102989852428, 0.004319659434258938, 0.12217426300048828]];
            drawHeatmap('heatmap-canvas-3', source3, target3, weights3, true);
        
            // Data for heatmap 4
            const source4 = ["a", "d", "i", "k", "k", "a", "d", "i"];
            const target4 = ["\u0b85", "\u0b9f", "\u0bbf", "\u0b95", "\u0bcd", "\u0b95", "\u0b9f", "\u0bbf"];
            const weights4 = [[0.11616694182157516, 0.7646558284759521, 0.04070783033967018, 0.0016001954209059477, 0.0021592762786895037, 0.0002097568940371275, 0.0012964302441105247, 0.0015255416510626674], [0.0006213448941707611, 0.13831625878810883, 0.806405782699585, 0.027565335854887962, 0.0034595075994729996, 9.091165702557191e-05, 0.00046214781468734145, 0.0007822681800462306], [3.744998684851453e-05, 0.004192268010228872, 0.17080622911453247, 0.6495763063430786, 0.0630917176604271, 0.004208511672914028, 0.006258996203541756, 0.010202210396528244], [3.691778329084627e-05, 0.002410039771348238, 0.022263487800955772, 0.5392364859580994, 0.37981441617012024, 0.011910196393728256, 0.00429693004116416, 0.024012930691242218], [7.497704501702174e-08, 0.0006204527453519404, 0.0021497977431863546, 0.006210640538483858, 0.690528392791748, 0.014269978739321232, 0.05760044604539871, 0.19260761141777039], [2.6236248231725767e-05, 0.00021919063874520361, 0.0016586383571848273, 0.005409710109233856, 0.5393843650817871, 0.3129795789718628, 0.011982021853327751, 0.07447107881307602], [8.192947653640203e-09, 0.00017952137568499893, 7.954612374305725e-05, 0.00039653113344684243, 0.01438547857105732, 0.0006187615799717605, 0.19225084781646729, 0.7287223935127258], [7.348492925274286e-09, 3.0229053663788363e-05, 1.1306171472824644e-05, 0.00015387490566354245, 0.014014947228133678, 0.0009968787198886275, 0.012452629394829273, 0.4435969889163971]];
            drawHeatmap('heatmap-canvas-4', source4, target4, weights4, true);
        
            // Data for heatmap 5
            const source5 = ["s", "a", "m", "a", "k", "a", "a", "l", "a"];
            const target5 = ["\u0b9a", "\u0bae", "\u0b95", "\u0bbe", "\u0bb2"];
            const weights5 = [[0.17893214523792267, 0.6552848219871521, 0.006033710204064846, 0.017599759623408318, 0.006098781246691942, 0.002754173707216978, 0.0017363217193633318, 0.0012280538212507963, 0.0013577796053141356], [0.005105570890009403, 0.03946447744965553, 0.38055169582366943, 0.3933647871017456, 0.11472365260124207, 0.0005087943281978369, 0.0004829965764656663, 0.00038731220411136746, 0.00011941444245167077], [0.0006412166985683143, 0.0003892422537319362, 0.011210412718355656, 0.09675410389900208, 0.7302216291427612, 0.019703766331076622, 0.049739379435777664, 0.011195902712643147, 0.00043770234333351254], [0.00016697093087714165, 0.00023943431733641773, 0.0021947924979031086, 0.0033544842153787613, 0.15980511903762817, 0.09233414381742477, 0.2686306834220886, 0.4014451801776886, 0.01322464644908905], [0.00011123348667751998, 8.90403134690132e-06, 2.1236937755020335e-05, 9.036765732162166e-06, 0.0014588612830266356, 0.03440305218100548, 0.07074542343616486, 0.5255872011184692, 0.1123092919588089]];
            drawHeatmap('heatmap-canvas-5', source5, target5, weights5, true);
        
            // Data for heatmap 6
            const source6 = ["m", "a", "l", "i", "k"];
            const target6 = ["\u0bae", "\u0bc7", "\u0bb2", "\u0bbf", "\u0b95", "\u0bcd"];
            const weights6 = [[0.286173939704895, 0.6455478072166443, 0.0017207080963999033, 0.013452176935970783, 0.0034892039839178324], [0.01999007910490036, 0.08116515725851059, 0.3365482687950134, 0.25881385803222656, 0.034152861684560776], [0.010429591871798038, 0.004064575303345919, 0.15941092371940613, 0.5832366347312927, 0.2107107937335968], [0.01415126770734787, 0.0006561113987118006, 0.06348015367984772, 0.1812523454427719, 0.43169137835502625], [0.01522768009454012, 6.668653077213094e-05, 0.0012751439353451133, 0.04350665211677551, 0.2867380678653717], [0.008638077415525913, 3.317351729492657e-05, 0.0011069567408412695, 0.0025265715084969997, 0.017910804599523544]];
            drawHeatmap('heatmap-canvas-6', source6, target6, weights6, false);
        
            // Data for heatmap 7
            const source7 = ["t", "i", "i", "p", "a", "k"];
            const target7 = ["\u0ba4", "\u0bc0", "\u0baa", "\u0b95", "\u0bcd"];
            const weights7 = [[0.3912711441516876, 0.493813693523407, 0.0019173282198607922, 0.0052381884306669235, 0.0036506529431790113, 0.0019011270487681031], [0.005914969369769096, 0.12937377393245697, 0.4897596836090088, 0.22869814932346344, 0.03366157412528992, 0.008632640354335308], [0.0016114921309053898, 0.0007990896119736135, 0.006544225849211216, 0.4687650501728058, 0.4146862328052521, 0.08018722385168076], [0.002146454295143485, 0.00025605541304685175, 0.00024180658510886133, 0.009653497487306595, 0.026109522208571434, 0.7162727117538452], [0.044714875519275665, 8.102560241241008e-05, 7.320521399378777e-05, 0.007505273446440697, 0.004211694933474064, 0.22415104508399963]];
            drawHeatmap('heatmap-canvas-7', source7, target7, weights7, true);
        
            // Data for heatmap 8
            const source8 = ["v", "e", "t", "t", "r", "i", "d", "a"];
            const target8 = ["\u0bb5", "\u0bc6", "\u0bb1", "\u0bcd", "\u0bb1", "\u0bbf", "\u0b9f"];
            const weights8 = [[0.36443838477134705, 0.37649741768836975, 0.0016808371292427182, 0.025374524295330048, 0.03483322262763977, 0.014197215437889099, 0.005056050606071949, 0.001990268938243389], [0.011489582248032093, 0.15124528110027313, 0.443185955286026, 0.18501786887645721, 0.03861503675580025, 0.0026267264038324356, 0.0008513966458849609, 0.0005230456590652466], [0.005330095533281565, 0.0009572022827342153, 0.032925866544246674, 0.3210526704788208, 0.5912128686904907, 0.040459901094436646, 0.0013102471129968762, 0.0012815501540899277], [0.024449527263641357, 0.0012509498046711087, 0.0009521589963696897, 0.3871566355228424, 0.4073355495929718, 0.11030123382806778, 0.010327337309718132, 0.007646279409527779], [0.006467005703598261, 0.000196821492863819, 0.00041207094909623265, 0.0933784693479538, 0.2622045576572418, 0.5994542241096497, 0.011451945640146732, 0.012041328474879265], [0.0008422950631938875, 3.41118948199437e-06, 1.7526432202430442e-05, 0.00487611535936594, 0.03776512295007706, 0.07935527712106705, 0.7452958226203918, 0.07380428165197372], [0.0008004840346984565, 5.358822932066687e-07, 8.671538125781808e-06, 0.0004401660989969969, 0.003712497418746352, 0.054288141429424286, 0.06999579817056656, 0.68290776014328]];
            drawHeatmap('heatmap-canvas-8', source8, target8, weights8, true);
        
            // Data for heatmap 9
            const source9 = ["m", "a", "a", "s", "k", "o", "a", "v", "i", "n"];
            const target9 = ["\u0bae", "\u0bbe", "\u0bb8", "\u0bcd", "\u0b95", "\u0bcb", "\u0bb5", "\u0bbf", "\u0ba9", "\u0bcd"];
            const weights9 = [[0.23539964854717255, 0.637841522693634, 0.005727796349674463, 0.004571808967739344, 0.018497401848435402, 0.0046736071817576885, 0.0010011728154495358, 0.0015164040960371494, 0.0018104397458955646, 0.00043738249223679304], [0.0038742246106266975, 0.012115169316530228, 0.3526586890220642, 0.2322196215391159, 0.2235233038663864, 0.006867741234600544, 0.000715233210939914, 0.0014959474792703986, 0.00029103801352903247, 8.86837369762361e-05], [0.004484694916754961, 0.00024253928859252483, 0.04642058163881302, 0.5115029811859131, 0.3677372932434082, 0.03248906880617142, 0.005352801643311977, 0.002820461755618453, 0.0005413246690295637, 9.900501754600555e-05], [0.011153368279337883, 0.0001456316967960447, 0.00515547813847661, 0.024267656728625298, 0.5604422092437744, 0.22406156361103058, 0.03395920991897583, 0.08561936020851135, 0.009371213614940643, 0.0008770101703703403], [0.0010710079222917557, 4.3647152779158205e-05, 0.00010715272219385952, 0.0012647580588236451, 0.11692627519369125, 0.6267557740211487, 0.10218721628189087, 0.1138191670179367, 0.030709508806467056, 0.0021644507069140673], [0.0008056025835685432, 5.302329554979224e-06, 0.00010755810217233375, 0.0010525622637942433, 0.007279702927917242, 0.038667138665914536, 0.5054457783699036, 0.38965481519699097, 0.04494227096438408, 0.0018273189198225737], [0.00049129145918414, 7.052901196402672e-07, 3.6303615615906892e-06, 0.00022766806068830192, 0.0007761932793073356, 0.004989318083971739, 0.023905759677290916, 0.4654691517353058, 0.4663151204586029, 0.03106377273797989], [2.056157245533541e-05, 4.6300279166189284e-08, 1.2409007865699095e-07, 5.661414434143808e-06, 0.0001244067825609818, 0.0001772478426573798, 0.013333884999155998, 0.03826900199055672, 0.3030526638031006, 0.47537219524383545], [1.2718905963993166e-06, 7.384649780561858e-09, 2.7295067539512274e-08, 2.450181455060374e-06, 3.1505271635978715e-06, 4.179410098004155e-06, 0.00044658142724074423, 0.0012023673625662923, 0.007440533488988876, 0.5711469054222107], [4.263802964032948e-07, 7.296673043555302e-09, 2.9874762219606055e-08, 2.4646881229273276e-06, 7.046841801638948e-06, 3.5123580346407834e-06, 0.00044241081923246384, 0.0018050000071525574, 0.0009635493624955416, 0.08060166984796524]];
            drawHeatmap('heatmap-canvas-9', source9, target9, weights9, true);
        
        };
    </script>
</head>
<body>
    <h1>Attention Heatmaps (3×3 Grid)</h1>
    
    <div class="grid-container">
    
        <div class="heatmap-container">
            <div class="heatmap-title correct">
                ✓ idhoa → இதோ
            </div>
            <div class="heatmap-canvas">
                <canvas id="heatmap-canvas-1" width="220" height="220"></canvas>
            </div>
        </div>
        
        <div class="heatmap-container">
            <div class="heatmap-title incorrect">
                ✗ amarica → அமரிக்கா
            </div>
            <div class="heatmap-canvas">
                <canvas id="heatmap-canvas-2" width="220" height="220"></canvas>
            </div>
        </div>
        
        <div class="heatmap-container">
            <div class="heatmap-title correct">
                ✓ suvargal → சுவர்கள்
            </div>
            <div class="heatmap-canvas">
                <canvas id="heatmap-canvas-3" width="220" height="220"></canvas>
            </div>
        </div>
        
        <div class="heatmap-container">
            <div class="heatmap-title correct">
                ✓ adikkadi → அடிக்கடி
            </div>
            <div class="heatmap-canvas">
                <canvas id="heatmap-canvas-4" width="220" height="220"></canvas>
            </div>
        </div>
        
        <div class="heatmap-container">
            <div class="heatmap-title correct">
                ✓ samakaala → சமகால
            </div>
            <div class="heatmap-canvas">
                <canvas id="heatmap-canvas-5" width="220" height="220"></canvas>
            </div>
        </div>
        
        <div class="heatmap-container">
            <div class="heatmap-title incorrect">
                ✗ malik → மேலிக்
            </div>
            <div class="heatmap-canvas">
                <canvas id="heatmap-canvas-6" width="220" height="220"></canvas>
            </div>
        </div>
        
        <div class="heatmap-container">
            <div class="heatmap-title correct">
                ✓ tiipak → தீபக்
            </div>
            <div class="heatmap-canvas">
                <canvas id="heatmap-canvas-7" width="220" height="220"></canvas>
            </div>
        </div>
        
        <div class="heatmap-container">
            <div class="heatmap-title correct">
                ✓ vettrida → வெற்றிட
            </div>
            <div class="heatmap-canvas">
                <canvas id="heatmap-canvas-8" width="220" height="220"></canvas>
            </div>
        </div>
        
        <div class="heatmap-container">
            <div class="heatmap-title correct">
                ✓ maaskoavin → மாஸ்கோவின்
            </div>
            <div class="heatmap-canvas">
                <canvas id="heatmap-canvas-9" width="220" height="220"></canvas>
            </div>
        </div>
        
    </div>
    
    <div class="legend">
        <p>Attention Weight</p>
        <div class="legend-gradient"></div>
        <div class="legend-labels">
            <span>0.0</span>
            <span>0.2</span>
            <span>0.4</span>
            <span>0.6</span>
            <span>0.8</span>
            <span>1.0</span>
        </div>
    </div>
</body>
</html>
    